# AI Query Assistant Rules

## Core Architecture
- Use LangChain's agent/planning patterns instead of building custom solutions, docs @LangChain as well as @LangChainSQLTutorial
- Support multiple LLMs (Ollama locally, OpenAI)
- Follow async patterns for all operations

## Component Structure
```
src/
├── agent/
│   ├── base.py         # Main agent with LangChain executor
│   ├── planner.py      # Query planning logic
│   └── tools/          # Data operation tools
├── config/             # LLM and environment config
└── utils/             
```

## Current Focus
1. Move QueryClassifier to planner.py and enhance with LangChain patterns
2. Implement basic tools for data operations
3. Add code generation for analysis and visualization

## Development Rules
- Write tests for all new functionality
- Use type hints and proper documentation
- Handle errors gracefully
- Keep dependencies in environment.yml updated 